(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var ie,v,lt,A,Ne,dt,ft,_t,De,pe,ge,G={},ht=[],It=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,se=Array.isArray;function E(e,t){for(var n in t)e[n]=t[n];return e}function Te(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Wt(e,t,n){var r,o,a,i={};for(a in t)a=="key"?r=t[a]:a=="ref"?o=t[a]:i[a]=t[a];if(arguments.length>2&&(i.children=arguments.length>3?ie.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(a in e.defaultProps)i[a]===void 0&&(i[a]=e.defaultProps[a]);return K(e,i,r,o,null)}function K(e,t,n,r,o){var a={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++lt,__i:-1,__u:0};return o==null&&v.vnode!=null&&v.vnode(a),a}function ce(e){return e.children}function ee(e,t){this.props=e,this.context=t}function R(e,t){if(t==null)return e.__?R(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?R(e):null}function mt(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return mt(e)}}function Ye(e){(!e.__d&&(e.__d=!0)&&A.push(e)&&!ne.__r++||Ne!=v.debounceRendering)&&((Ne=v.debounceRendering)||dt)(ne)}function ne(){for(var e,t,n,r,o,a,i,c=1;A.length;)A.length>c&&A.sort(ft),e=A.shift(),c=A.length,e.__d&&(n=void 0,o=(r=(t=e).__v).__e,a=[],i=[],t.__P&&((n=E({},r)).__v=r.__v+1,v.vnode&&v.vnode(n),Me(t.__P,n,r,t.__n,t.__P.namespaceURI,32&r.__u?[o]:null,a,o??R(r),!!(32&r.__u),i),n.__v=r.__v,n.__.__k[n.__i]=n,yt(a,n,i),n.__e!=o&&mt(n)));ne.__r=0}function pt(e,t,n,r,o,a,i,c,d,u,_){var s,h,m,D,x,b,g,p=r&&r.__k||ht,S=t.length;for(d=Ft(n,t,p,d,S),s=0;s<S;s++)(m=n.__k[s])!=null&&(h=m.__i==-1?G:p[m.__i]||G,m.__i=s,b=Me(e,m,h,o,a,i,c,d,u,_),D=m.__e,m.ref&&h.ref!=m.ref&&(h.ref&&ke(h.ref,null,m),_.push(m.ref,m.__c||D,m)),x==null&&D!=null&&(x=D),(g=!!(4&m.__u))||h.__k===m.__k?d=gt(m,d,e,g):typeof m.type=="function"&&b!==void 0?d=b:D&&(d=D.nextSibling),m.__u&=-7);return n.__e=x,d}function Ft(e,t,n,r,o){var a,i,c,d,u,_=n.length,s=_,h=0;for(e.__k=new Array(o),a=0;a<o;a++)(i=t[a])!=null&&typeof i!="boolean"&&typeof i!="function"?(d=a+h,(i=e.__k[a]=typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?K(null,i,null,null,null):se(i)?K(ce,{children:i},null,null,null):i.constructor==null&&i.__b>0?K(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=e,i.__b=e.__b+1,c=null,(u=i.__i=Et(i,n,d,s))!=-1&&(s--,(c=n[u])&&(c.__u|=2)),c==null||c.__v==null?(u==-1&&(o>_?h--:o<_&&h++),typeof i.type!="function"&&(i.__u|=4)):u!=d&&(u==d-1?h--:u==d+1?h++:(u>d?h--:h++,i.__u|=4))):e.__k[a]=null;if(s)for(a=0;a<_;a++)(c=n[a])!=null&&(2&c.__u)==0&&(c.__e==r&&(r=R(c)),vt(c,c));return r}function gt(e,t,n,r){var o,a;if(typeof e.type=="function"){for(o=e.__k,a=0;o&&a<o.length;a++)o[a]&&(o[a].__=e,t=gt(o[a],t,n,r));return t}e.__e!=t&&(r&&(t&&e.type&&!t.parentNode&&(t=R(e)),n.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function Et(e,t,n,r){var o,a,i,c=e.key,d=e.type,u=t[n],_=u!=null&&(2&u.__u)==0;if(u===null&&e.key==null||_&&c==u.key&&d==u.type)return n;if(r>(_?1:0)){for(o=n-1,a=n+1;o>=0||a<t.length;)if((u=t[i=o>=0?o--:a++])!=null&&(2&u.__u)==0&&c==u.key&&d==u.type)return i}return-1}function Ce(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||It.test(t)?n:n+"px"}function J(e,t,n,r,o){var a,i;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||Ce(e.style,t,"");if(n)for(t in n)r&&n[t]==r[t]||Ce(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")a=t!=(t=t.replace(_t,"$1")),i=t.toLowerCase(),t=i in e||t=="onFocusOut"||t=="onFocusIn"?i.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=n,n?r?n.u=r.u:(n.u=De,e.addEventListener(t,a?ge:pe,a)):e.removeEventListener(t,a?ge:pe,a);else{if(o=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function Ie(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=De++;else if(t.t<n.u)return;return n(v.event?v.event(t):t)}}}function Me(e,t,n,r,o,a,i,c,d,u){var _,s,h,m,D,x,b,g,p,S,N,y,Y,H,F,I,f,M=t.type;if(t.constructor!=null)return null;128&n.__u&&(d=!!(32&n.__u),a=[c=t.__e=n.__e]),(_=v.__b)&&_(t);e:if(typeof M=="function")try{if(g=t.props,p="prototype"in M&&M.prototype.render,S=(_=M.contextType)&&r[_.__c],N=_?S?S.props.value:_.__:r,n.__c?b=(s=t.__c=n.__c).__=s.__E:(p?t.__c=s=new M(g,N):(t.__c=s=new ee(g,N),s.constructor=M,s.render=$t),S&&S.sub(s),s.props=g,s.state||(s.state={}),s.context=N,s.__n=r,h=s.__d=!0,s.__h=[],s._sb=[]),p&&s.__s==null&&(s.__s=s.state),p&&M.getDerivedStateFromProps!=null&&(s.__s==s.state&&(s.__s=E({},s.__s)),E(s.__s,M.getDerivedStateFromProps(g,s.__s))),m=s.props,D=s.state,s.__v=t,h)p&&M.getDerivedStateFromProps==null&&s.componentWillMount!=null&&s.componentWillMount(),p&&s.componentDidMount!=null&&s.__h.push(s.componentDidMount);else{if(p&&M.getDerivedStateFromProps==null&&g!==m&&s.componentWillReceiveProps!=null&&s.componentWillReceiveProps(g,N),!s.__e&&s.shouldComponentUpdate!=null&&s.shouldComponentUpdate(g,s.__s,N)===!1||t.__v==n.__v){for(t.__v!=n.__v&&(s.props=g,s.state=s.__s,s.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(C){C&&(C.__=t)}),y=0;y<s._sb.length;y++)s.__h.push(s._sb[y]);s._sb=[],s.__h.length&&i.push(s);break e}s.componentWillUpdate!=null&&s.componentWillUpdate(g,s.__s,N),p&&s.componentDidUpdate!=null&&s.__h.push(function(){s.componentDidUpdate(m,D,x)})}if(s.context=N,s.props=g,s.__P=e,s.__e=!1,Y=v.__r,H=0,p){for(s.state=s.__s,s.__d=!1,Y&&Y(t),_=s.render(s.props,s.state,s.context),F=0;F<s._sb.length;F++)s.__h.push(s._sb[F]);s._sb=[]}else do s.__d=!1,Y&&Y(t),_=s.render(s.props,s.state,s.context),s.state=s.__s;while(s.__d&&++H<25);s.state=s.__s,s.getChildContext!=null&&(r=E(E({},r),s.getChildContext())),p&&!h&&s.getSnapshotBeforeUpdate!=null&&(x=s.getSnapshotBeforeUpdate(m,D)),I=_,_!=null&&_.type===ce&&_.key==null&&(I=wt(_.props.children)),c=pt(e,se(I)?I:[I],t,n,r,o,a,i,c,d,u),s.base=t.__e,t.__u&=-161,s.__h.length&&i.push(s),b&&(s.__E=s.__=null)}catch(C){if(t.__v=null,d||a!=null)if(C.then){for(t.__u|=d?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;a[a.indexOf(c)]=null,t.__e=c}else{for(f=a.length;f--;)Te(a[f]);ye(t)}else t.__e=n.__e,t.__k=n.__k,C.then||ye(t);v.__e(C,t,n)}else a==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):c=t.__e=Ht(n.__e,t,n,r,o,a,i,d,u);return(_=v.diffed)&&_(t),128&t.__u?void 0:c}function ye(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(ye)}function yt(e,t,n){for(var r=0;r<n.length;r++)ke(n[r],n[++r],n[++r]);v.__c&&v.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(a){a.call(o)})}catch(a){v.__e(a,o.__v)}})}function wt(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:se(e)?e.map(wt):E({},e)}function Ht(e,t,n,r,o,a,i,c,d){var u,_,s,h,m,D,x,b=n.props,g=t.props,p=t.type;if(p=="svg"?o="http://www.w3.org/2000/svg":p=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),a!=null){for(u=0;u<a.length;u++)if((m=a[u])&&"setAttribute"in m==!!p&&(p?m.localName==p:m.nodeType==3)){e=m,a[u]=null;break}}if(e==null){if(p==null)return document.createTextNode(g);e=document.createElementNS(o,p,g.is&&g),c&&(v.__m&&v.__m(t,a),c=!1),a=null}if(p==null)b===g||c&&e.data==g||(e.data=g);else{if(a=a&&ie.call(e.childNodes),b=n.props||G,!c&&a!=null)for(b={},u=0;u<e.attributes.length;u++)b[(m=e.attributes[u]).name]=m.value;for(u in b)if(m=b[u],u!="children"){if(u=="dangerouslySetInnerHTML")s=m;else if(!(u in g)){if(u=="value"&&"defaultValue"in g||u=="checked"&&"defaultChecked"in g)continue;J(e,u,null,m,o)}}for(u in g)m=g[u],u=="children"?h=m:u=="dangerouslySetInnerHTML"?_=m:u=="value"?D=m:u=="checked"?x=m:c&&typeof m!="function"||b[u]===m||J(e,u,m,b[u],o);if(_)c||s&&(_.__html==s.__html||_.__html==e.innerHTML)||(e.innerHTML=_.__html),t.__k=[];else if(s&&(e.innerHTML=""),pt(t.type=="template"?e.content:e,se(h)?h:[h],t,n,r,p=="foreignObject"?"http://www.w3.org/1999/xhtml":o,a,i,a?a[0]:n.__k&&R(n,0),c,d),a!=null)for(u=a.length;u--;)Te(a[u]);c||(u="value",p=="progress"&&D==null?e.removeAttribute("value"):D!=null&&(D!==e[u]||p=="progress"&&!D||p=="option"&&D!=b[u])&&J(e,u,D,b[u],o),u="checked",x!=null&&x!=e[u]&&J(e,u,x,b[u],o))}return e}function ke(e,t,n){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&t==null||(e.__u=e(t))}else e.current=t}catch(o){v.__e(o,n)}}function vt(e,t,n){var r,o;if(v.unmount&&v.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||ke(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){v.__e(a,t)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&vt(r[o],t,n||typeof e.type!="function");n||Te(e.__e),e.__c=e.__=e.__e=void 0}function $t(e,t,n){return this.constructor(e,n)}function Ut(e,t,n){var r,o,a,i;t==document&&(t=document.documentElement),v.__&&v.__(e,t),o=(r=!1)?null:t.__k,a=[],i=[],Me(t,e=t.__k=Wt(ce,null,[e]),o||G,G,t.namespaceURI,o?null:t.firstChild?ie.call(t.childNodes):null,a,o?o.__e:t.firstChild,r,i),yt(a,e,i)}ie=ht.slice,v={__e:function(e,t,n,r){for(var o,a,i;t=t.__;)if((o=t.__c)&&!o.__)try{if((a=o.constructor)&&a.getDerivedStateFromError!=null&&(o.setState(a.getDerivedStateFromError(e)),i=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),i=o.__d),i)return o.__E=o}catch(c){e=c}throw e}},lt=0,ee.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=E({},this.state),typeof e=="function"&&(e=e(E({},n),this.props)),e&&E(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Ye(this))},ee.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Ye(this))},ee.prototype.render=ce,A=[],dt=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ft=function(e,t){return e.__v.__b-t.__v.__b},ne.__r=0,_t=/(PointerCapture)$|Capture$/i,De=0,pe=Ie(!1),ge=Ie(!0);var Lt=0;function l(e,t,n,r,o,a){t||(t={});var i,c,d=t;if("ref"in d)for(c in d={},t)c=="ref"?i=t[c]:d[c]=t[c];var u={type:e,props:d,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Lt,__i:-1,__u:0,__source:o,__self:a};if(typeof e=="function"&&(i=e.defaultProps))for(c in i)d[c]===void 0&&(d[c]=i[c]);return v.vnode&&v.vnode(u),u}var re,k,ue,We,we=0,bt=[],O=v,Fe=O.__b,Ee=O.__r,He=O.diffed,$e=O.__c,Ue=O.unmount,Le=O.__;function Dt(e,t){O.__h&&O.__h(k,e,we||t),we=0;var n=k.__H||(k.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function T(e){return we=1,At(Tt,e)}function At(e,t,n){var r=Dt(re++,2);if(r.t=e,!r.__c&&(r.__=[Tt(void 0,t),function(c){var d=r.__N?r.__N[0]:r.__[0],u=r.t(d,c);d!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=k,!k.__f)){var o=function(c,d,u){if(!r.__c.__H)return!0;var _=r.__c.__H.__.filter(function(h){return!!h.__c});if(_.every(function(h){return!h.__N}))return!a||a.call(this,c,d,u);var s=r.__c.props!==c;return _.forEach(function(h){if(h.__N){var m=h.__[0];h.__=h.__N,h.__N=void 0,m!==h.__[0]&&(s=!0)}}),a&&a.call(this,c,d,u)||s};k.__f=!0;var a=k.shouldComponentUpdate,i=k.componentWillUpdate;k.componentWillUpdate=function(c,d,u){if(this.__e){var _=a;a=void 0,o(c,d,u),a=_}i&&i.call(this,c,d,u)},k.shouldComponentUpdate=o}return r.__N||r.__}function Oe(e,t){var n=Dt(re++,3);!O.__s&&Rt(n.__H,t)&&(n.__=e,n.u=t,k.__H.__h.push(n))}function qt(){for(var e;e=bt.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(te),e.__H.__h.forEach(ve),e.__H.__h=[]}catch(t){e.__H.__h=[],O.__e(t,e.__v)}}O.__b=function(e){k=null,Fe&&Fe(e)},O.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Le&&Le(e,t)},O.__r=function(e){Ee&&Ee(e),re=0;var t=(k=e.__c).__H;t&&(ue===k?(t.__h=[],k.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(te),t.__h.forEach(ve),t.__h=[],re=0)),ue=k},O.diffed=function(e){He&&He(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(bt.push(t)!==1&&We===O.requestAnimationFrame||((We=O.requestAnimationFrame)||zt)(qt)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),ue=k=null},O.__c=function(e,t){t.some(function(n){try{n.__h.forEach(te),n.__h=n.__h.filter(function(r){return!r.__||ve(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],O.__e(r,n.__v)}}),$e&&$e(e,t)},O.unmount=function(e){Ue&&Ue(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{te(r)}catch(o){t=o}}),n.__H=void 0,t&&O.__e(t,n.__v))};var Ae=typeof requestAnimationFrame=="function";function zt(e){var t,n=function(){clearTimeout(r),Ae&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,35);Ae&&(t=requestAnimationFrame(n))}function te(e){var t=k,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),k=t}function ve(e){var t=k;e.__c=e.__(),k=t}function Rt(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function Tt(e,t){return typeof t=="function"?t(e):t}const Xt="https://roomassets.onrender.com/api";async function X(e,t={}){const n={};t.body!=null&&(n["Content-Type"]="application/json");const r=await fetch(`${Xt}${e}`,{credentials:"omit",...t,headers:{...n,...t.headers}});if(r.status===204)return;const o=await r.text(),a=o&&o.length?JSON.parse(o):null;if(!r.ok){const i=a&&(a.detail||a.message)||r.statusText||`HTTP ${r.status}`;throw new Error(i)}return a}async function xe(){return X("/rooms",{method:"GET"})}async function Pe(){return X("/assets",{method:"GET"})}async function Mt(){return X("/bookings",{method:"GET"})}async function Bt(e){return X("/bookings",{method:"POST",body:JSON.stringify(e)})}async function jt(e){return X(`/bookings/${encodeURIComponent(e.id)}`,{method:"PUT",body:JSON.stringify(e)})}async function Zt(e){return X(`/bookings/${encodeURIComponent(e)}`,{method:"DELETE"})}const Gt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Qt=(e,t,n)=>{let r;const o=Gt[e];return typeof o=="string"?r=o:t===1?r=o.one:r=o.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function le(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Vt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Jt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Kt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},en={date:le({formats:Vt,defaultWidth:"full"}),time:le({formats:Jt,defaultWidth:"full"}),dateTime:le({formats:Kt,defaultWidth:"full"})},tn={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},nn=(e,t,n,r)=>tn[e];function j(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let o;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,c=n?.width?String(n.width):i;o=e.formattingValues[c]||e.formattingValues[i]}else{const i=e.defaultWidth,c=n?.width?String(n.width):e.defaultWidth;o=e.values[c]||e.values[i]}const a=e.argumentCallback?e.argumentCallback(t):t;return o[a]}}const rn={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},on={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},an={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},sn={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},un={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ln=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},dn={ordinalNumber:ln,era:j({values:rn,defaultWidth:"wide"}),quarter:j({values:on,defaultWidth:"wide",argumentCallback:e=>e-1}),month:j({values:an,defaultWidth:"wide"}),day:j({values:sn,defaultWidth:"wide"}),dayPeriod:j({values:cn,defaultWidth:"wide",formattingValues:un,defaultFormattingWidth:"wide"})};function Z(e){return(t,n={})=>{const r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(o);if(!a)return null;const i=a[0],c=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(c)?_n(c,s=>s.test(i)):fn(c,s=>s.test(i));let u;u=e.valueCallback?e.valueCallback(d):d,u=n.valueCallback?n.valueCallback(u):u;const _=t.slice(i.length);return{value:u,rest:_}}}function fn(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function _n(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function hn(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const o=r[0],a=t.match(e.parsePattern);if(!a)return null;let i=e.valueCallback?e.valueCallback(a[0]):a[0];i=n.valueCallback?n.valueCallback(i):i;const c=t.slice(o.length);return{value:i,rest:c}}}const mn=/^(\d+)(th|st|nd|rd)?/i,pn=/\d+/i,gn={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},yn={any:[/^b/i,/^(a|c)/i]},wn={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},vn={any:[/1/i,/2/i,/3/i,/4/i]},bn={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Dn={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Tn={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Mn={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kn={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},On={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},xn={ordinalNumber:hn({matchPattern:mn,parsePattern:pn,valueCallback:e=>parseInt(e,10)}),era:Z({matchPatterns:gn,defaultMatchWidth:"wide",parsePatterns:yn,defaultParseWidth:"any"}),quarter:Z({matchPatterns:wn,defaultMatchWidth:"wide",parsePatterns:vn,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Z({matchPatterns:bn,defaultMatchWidth:"wide",parsePatterns:Dn,defaultParseWidth:"any"}),day:Z({matchPatterns:Tn,defaultMatchWidth:"wide",parsePatterns:Mn,defaultParseWidth:"any"}),dayPeriod:Z({matchPatterns:kn,defaultMatchWidth:"any",parsePatterns:On,defaultParseWidth:"any"})},Pn={code:"en-US",formatDistance:Qt,formatLong:en,formatRelative:nn,localize:dn,match:xn,options:{weekStartsOn:0,firstWeekContainsDate:1}};let Sn={};function V(){return Sn}const kt=6048e5,Nn=864e5,qe=Symbol.for("constructDateFrom");function U(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&qe in e?e[qe](t):e instanceof Date?new e.constructor(t):new Date(t)}function W(e,t){return U(t||e,e)}function ze(e){const t=W(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Yn(e,...t){const n=U.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function Re(e,t){const n=W(e,t?.in);return n.setHours(0,0,0,0),n}function Cn(e,t,n){const[r,o]=Yn(n?.in,e,t),a=Re(r),i=Re(o),c=+a-ze(a),d=+i-ze(i);return Math.round((c-d)/Nn)}function In(e,t){const n=W(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Wn(e,t){const n=W(e,t?.in);return Cn(n,In(n))+1}function Q(e,t){const n=V(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=W(e,t?.in),a=o.getDay(),i=(a<r?7:0)+a-r;return o.setDate(o.getDate()-i),o.setHours(0,0,0,0),o}function oe(e,t){return Q(e,{...t,weekStartsOn:1})}function Ot(e,t){const n=W(e,t?.in),r=n.getFullYear(),o=U(n,0);o.setFullYear(r+1,0,4),o.setHours(0,0,0,0);const a=oe(o),i=U(n,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const c=oe(i);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function Fn(e,t){const n=Ot(e,t),r=U(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),oe(r)}function En(e,t){const n=W(e,t?.in),r=+oe(n)-+Fn(n);return Math.round(r/kt)+1}function xt(e,t){const n=W(e,t?.in),r=n.getFullYear(),o=V(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,i=U(t?.in||e,0);i.setFullYear(r+1,0,a),i.setHours(0,0,0,0);const c=Q(i,t),d=U(t?.in||e,0);d.setFullYear(r,0,a),d.setHours(0,0,0,0);const u=Q(d,t);return+n>=+c?r+1:+n>=+u?r:r-1}function Hn(e,t){const n=V(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=xt(e,t),a=U(t?.in||e,0);return a.setFullYear(o,0,r),a.setHours(0,0,0,0),Q(a,t)}function $n(e,t){const n=W(e,t?.in),r=+Q(n,t)-+Hn(n,t);return Math.round(r/kt)+1}function w(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const $={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return w(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):w(n+1,2)},d(e,t){return w(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return w(e.getHours()%12||12,t.length)},H(e,t){return w(e.getHours(),t.length)},m(e,t){return w(e.getMinutes(),t.length)},s(e,t){return w(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),o=Math.trunc(r*Math.pow(10,n-3));return w(o,t.length)}},q={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Xe={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return $.y(e,t)},Y:function(e,t,n,r){const o=xt(e,r),a=o>0?o:1-o;if(t==="YY"){const i=a%100;return w(i,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):w(a,t.length)},R:function(e,t){const n=Ot(e);return w(n,t.length)},u:function(e,t){const n=e.getFullYear();return w(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return w(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return w(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return $.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return w(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const o=$n(e,r);return t==="wo"?n.ordinalNumber(o,{unit:"week"}):w(o,t.length)},I:function(e,t,n){const r=En(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):w(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):$.d(e,t)},D:function(e,t,n){const r=Wn(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):w(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const o=e.getDay(),a=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return w(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const o=e.getDay(),a=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return w(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),o=r===0?7:r;switch(t){case"i":return String(o);case"ii":return w(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const o=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let o;switch(r===12?o=q.noon:r===0?o=q.midnight:o=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let o;switch(r>=17?o=q.evening:r>=12?o=q.afternoon:r>=4?o=q.morning:o=q.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return $.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):$.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):w(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):w(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):$.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):$.s(e,t)},S:function(e,t){return $.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return je(r);case"XXXX":case"XX":return L(r);case"XXXXX":case"XXX":default:return L(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return je(r);case"xxxx":case"xx":return L(r);case"xxxxx":case"xxx":default:return L(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Be(r,":");case"OOOO":default:return"GMT"+L(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Be(r,":");case"zzzz":default:return"GMT"+L(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return w(r,t.length)},T:function(e,t,n){return w(+e,t.length)}};function Be(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=Math.trunc(r/60),a=r%60;return a===0?n+String(o):n+String(o)+t+w(a,2)}function je(e,t){return e%60===0?(e>0?"-":"+")+w(Math.abs(e)/60,2):L(e,t)}function L(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=w(Math.trunc(r/60),2),a=w(r%60,2);return n+o+t+a}const Ze=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Pt=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Un=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],o=n[2];if(!o)return Ze(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",Ze(r,t)).replace("{{time}}",Pt(o,t))},Ln={p:Pt,P:Un},An=/^D+$/,qn=/^Y+$/,zn=["D","DD","YY","YYYY"];function Rn(e){return An.test(e)}function Xn(e){return qn.test(e)}function Bn(e,t,n){const r=jn(e,t,n);if(console.warn(r),zn.includes(e))throw new RangeError(r)}function jn(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function Zn(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Gn(e){return!(!Zn(e)&&typeof e!="number"||isNaN(+W(e)))}const Qn=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Vn=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Jn=/^'([^]*?)'?$/,Kn=/''/g,er=/[a-zA-Z]/;function tr(e,t,n){const r=V(),o=n?.locale??r.locale??Pn,a=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,c=W(e,n?.in);if(!Gn(c))throw new RangeError("Invalid time value");let d=t.match(Vn).map(_=>{const s=_[0];if(s==="p"||s==="P"){const h=Ln[s];return h(_,o.formatLong)}return _}).join("").match(Qn).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const s=_[0];if(s==="'")return{isToken:!1,value:nr(_)};if(Xe[s])return{isToken:!0,value:_};if(s.match(er))throw new RangeError("Format string contains an unescaped latin alphabet character `"+s+"`");return{isToken:!1,value:_}});o.localize.preprocessor&&(d=o.localize.preprocessor(c,d));const u={firstWeekContainsDate:a,weekStartsOn:i,locale:o};return d.map(_=>{if(!_.isToken)return _.value;const s=_.value;(!n?.useAdditionalWeekYearTokens&&Xn(s)||!n?.useAdditionalDayOfYearTokens&&Rn(s))&&Bn(s,t,String(e));const h=Xe[s[0]];return h(c,s,o.localize,u)}).join("")}function nr(e){const t=e.match(Jn);return t?t[1].replace(Kn,"'"):e}function rr(){return Object.assign({},V())}function Ge(e,t,n){const r=rr(),o=ir(e,n.timeZone,n.locale??r.locale);return"formatToParts"in o?or(o,t):ar(o,t)}function or(e,t){const n=e.formatToParts(t);for(let r=n.length-1;r>=0;--r)if(n[r].type==="timeZoneName")return n[r].value}function ar(e,t){const n=e.format(t).replace(/\u200E/g,""),r=/ [\w-+ ]+$/.exec(n);return r?r[0].substr(1):""}function ir(e,t,n){return new Intl.DateTimeFormat(n?[n.code,"en-US"]:void 0,{timeZone:t,timeZoneName:e})}function sr(e,t){const n=fr(t);return"formatToParts"in n?ur(n,e):lr(n,e)}const cr={year:0,month:1,day:2,hour:3,minute:4,second:5};function ur(e,t){try{const n=e.formatToParts(t),r=[];for(let o=0;o<n.length;o++){const a=cr[n[o].type];a!==void 0&&(r[a]=parseInt(n[o].value,10))}return r}catch(n){if(n instanceof RangeError)return[NaN];throw n}}function lr(e,t){const n=e.format(t),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[parseInt(r[3],10),parseInt(r[1],10),parseInt(r[2],10),parseInt(r[4],10),parseInt(r[5],10),parseInt(r[6],10)]}const de={},Qe=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),dr=Qe==="06/25/2014, 00:00:00"||Qe==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";function fr(e){return de[e]||(de[e]=dr?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),de[e]}function St(e,t,n,r,o,a,i){const c=new Date(0);return c.setUTCFullYear(e,t,n),c.setUTCHours(r,o,a,i),c}const Ve=36e5,_r=6e4,fe={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function Se(e,t,n){if(!e)return 0;let r=fe.timezoneZ.exec(e);if(r)return 0;let o,a;if(r=fe.timezoneHH.exec(e),r)return o=parseInt(r[1],10),Je(o)?-(o*Ve):NaN;if(r=fe.timezoneHHMM.exec(e),r){o=parseInt(r[2],10);const i=parseInt(r[3],10);return Je(o,i)?(a=Math.abs(o)*Ve+i*_r,r[1]==="+"?-a:a):NaN}if(pr(e)){t=new Date(t||Date.now());const i=n?t:hr(t),c=be(i,e);return-(n?c:mr(t,c,e))}return NaN}function hr(e){return St(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function be(e,t){const n=sr(e,t),r=St(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime();let o=e.getTime();const a=o%1e3;return o-=a>=0?a:1e3+a,r-o}function mr(e,t,n){let o=e.getTime()-t;const a=be(new Date(o),n);if(t===a)return t;o-=a-t;const i=be(new Date(o),n);return a===i?a:Math.max(a,i)}function Je(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}const Ke={};function pr(e){if(Ke[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),Ke[e]=!0,!0}catch{return!1}}const gr=60*1e3,yr={X:function(e,t,n){const r=_e(n.timeZone,e);if(r===0)return"Z";switch(t){case"X":return et(r);case"XXXX":case"XX":return z(r);case"XXXXX":case"XXX":default:return z(r,":")}},x:function(e,t,n){const r=_e(n.timeZone,e);switch(t){case"x":return et(r);case"xxxx":case"xx":return z(r);case"xxxxx":case"xxx":default:return z(r,":")}},O:function(e,t,n){const r=_e(n.timeZone,e);switch(t){case"O":case"OO":case"OOO":return"GMT"+wr(r,":");case"OOOO":default:return"GMT"+z(r,":")}},z:function(e,t,n){switch(t){case"z":case"zz":case"zzz":return Ge("short",e,n);case"zzzz":default:return Ge("long",e,n)}}};function _e(e,t){const n=e?Se(e,t,!0)/gr:t?.getTimezoneOffset()??0;if(Number.isNaN(n))throw new RangeError("Invalid time zone specified: "+e);return n}function ae(e,t){const n=e<0?"-":"";let r=Math.abs(e).toString();for(;r.length<t;)r="0"+r;return n+r}function z(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=ae(Math.floor(r/60),2),a=ae(Math.floor(r%60),2);return n+o+t+a}function et(e,t){return e%60===0?(e>0?"-":"+")+ae(Math.abs(e)/60,2):z(e,t)}function wr(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),a=r%60;return a===0?n+String(o):n+String(o)+t+ae(a,2)}function tt(e){const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+e-+t}const vr=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,he=36e5,nt=6e4,br=2,P={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:vr};function Nt(e,t={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);const n=t.additionalDigits==null?br:Number(t.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(Object.prototype.toString.call(e)!=="[object String]")return new Date(NaN);const r=Dr(e),{year:o,restDateString:a}=Tr(r.date,n),i=Mr(a,o);if(i===null||isNaN(i.getTime()))return new Date(NaN);if(i){const c=i.getTime();let d=0,u;if(r.time&&(d=kr(r.time),d===null||isNaN(d)))return new Date(NaN);if(r.timeZone||t.timeZone){if(u=Se(r.timeZone||t.timeZone,new Date(c+d)),isNaN(u))return new Date(NaN)}else u=tt(new Date(c+d)),u=tt(new Date(c+d+u));return new Date(c+d+u)}else return new Date(NaN)}function Dr(e){const t={};let n=P.dateTimePattern.exec(e),r;if(n?(t.date=n[1],r=n[3]):(n=P.datePattern.exec(e),n?(t.date=n[1],r=n[2]):(t.date=null,r=e)),r){const o=P.timeZone.exec(r);o?(t.time=r.replace(o[1],""),t.timeZone=o[1].trim()):t.time=r}return t}function Tr(e,t){if(e){const n=P.YYY[t],r=P.YYYYY[t];let o=P.YYYY.exec(e)||r.exec(e);if(o){const a=o[1];return{year:parseInt(a,10),restDateString:e.slice(a.length)}}if(o=P.YY.exec(e)||n.exec(e),o){const a=o[1];return{year:parseInt(a,10)*100,restDateString:e.slice(a.length)}}}return{year:null}}function Mr(e,t){if(t===null)return null;let n,r,o;if(!e||!e.length)return n=new Date(0),n.setUTCFullYear(t),n;let a=P.MM.exec(e);if(a)return n=new Date(0),r=parseInt(a[1],10)-1,ot(t,r)?(n.setUTCFullYear(t,r),n):new Date(NaN);if(a=P.DDD.exec(e),a){n=new Date(0);const i=parseInt(a[1],10);return Pr(t,i)?(n.setUTCFullYear(t,0,i),n):new Date(NaN)}if(a=P.MMDD.exec(e),a){n=new Date(0),r=parseInt(a[1],10)-1;const i=parseInt(a[2],10);return ot(t,r,i)?(n.setUTCFullYear(t,r,i),n):new Date(NaN)}if(a=P.Www.exec(e),a)return o=parseInt(a[1],10)-1,at(o)?rt(t,o):new Date(NaN);if(a=P.WwwD.exec(e),a){o=parseInt(a[1],10)-1;const i=parseInt(a[2],10)-1;return at(o,i)?rt(t,o,i):new Date(NaN)}return null}function kr(e){let t,n,r=P.HH.exec(e);if(r)return t=parseFloat(r[1].replace(",",".")),me(t)?t%24*he:NaN;if(r=P.HHMM.exec(e),r)return t=parseInt(r[1],10),n=parseFloat(r[2].replace(",",".")),me(t,n)?t%24*he+n*nt:NaN;if(r=P.HHMMSS.exec(e),r){t=parseInt(r[1],10),n=parseInt(r[2],10);const o=parseFloat(r[3].replace(",","."));return me(t,n,o)?t%24*he+n*nt+o*1e3:NaN}return null}function rt(e,t,n){t=t||0,n=n||0;const r=new Date(0);r.setUTCFullYear(e,0,4);const o=r.getUTCDay()||7,a=t*7+n+1-o;return r.setUTCDate(r.getUTCDate()+a),r}const Or=[31,28,31,30,31,30,31,31,30,31,30,31],xr=[31,29,31,30,31,30,31,31,30,31,30,31];function Yt(e){return e%400===0||e%4===0&&e%100!==0}function ot(e,t,n){if(t<0||t>11)return!1;if(n!=null){if(n<1)return!1;const r=Yt(e);if(r&&n>xr[t]||!r&&n>Or[t])return!1}return!0}function Pr(e,t){if(t<1)return!1;const n=Yt(e);return!(n&&t>366||!n&&t>365)}function at(e,t){return!(e<0||e>52||t!=null&&(t<0||t>6))}function me(e,t,n){return!(e<0||e>=25||t!=null&&(t<0||t>=60)||n!=null&&(n<0||n>=60))}const Sr=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function Nr(e,t,n={}){t=String(t);const r=t.match(Sr);if(r){const o=Nt(n.originalDate||e,n);t=r.reduce(function(a,i){if(i[0]==="'")return a;const c=a.indexOf(i),d=a[c-1]==="'",u=a.replace(i,"'"+yr[i[0]](o,i,n)+"'");return d?u.substring(0,c-1)+u.substring(c+1):u},t)}return tr(e,t,n)}function Ct(e,t,n){e=Nt(e,n);const r=Se(t,e,!0),o=new Date(e.getTime()-r),a=new Date(0);return a.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),a.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),a}function Yr(e,t,n,r){return r={...r,timeZone:t,originalDate:e},Nr(Ct(e,t,{timeZone:r.timeZone}),n,r)}const it=Intl.DateTimeFormat().resolvedOptions().timeZone;function st(e){return new Date(e).toISOString()}function ct(e,t="dd-MM-yyyy HH:mm"){const n=new Date(e),r=Ct(n,it);return Yr(r,it,t)}function ut(e){if(!e)return"";const t=new Date(e),n=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0"),a=String(t.getHours()).padStart(2,"0"),i=String(t.getMinutes()).padStart(2,"0");return`${n}-${r}-${o}T${a}:${i}`}function Cr(e,t,n,r){const o=new Date(e).getTime(),a=new Date(t).getTime(),i=new Date(n).getTime(),c=new Date(r).getTime();return!(a<=i||o>=c)}function Ir({existing:e,onSave:t}){const[n,r]=T([]),[o,a]=T([]),[i,c]=T([]),[d,u]=T(e?.resourceType||"room"),[_,s]=T(e?.resourceId||""),[h,m]=T(e?.title||""),[D,x]=T(e?.notes||""),[b,g]=T(e?ut(e.start):""),[p,S]=T(e?ut(e.end):"");return Oe(()=>{(async()=>{try{r(await xe()),a(await Pe()),c(await Mt())}catch(y){console.error("Ошибка загрузки данных для формы:",y)}})()},[]),l("div",{class:"form-card",children:[l("h3",{children:e?"Редактировать бронь":"Новая бронь"}),l("form",{onSubmit:async y=>{if(y.preventDefault(),!_||!h||!b||!p){alert("Заполните все обязательные поля!");return}const Y=st(b),H=st(p);if(new Date(Y).getTime()>=new Date(H).getTime()){alert("Время начала должно быть раньше времени окончания.");return}const F=i.find(f=>e&&f.id===e.id||f.resourceId!==_?!1:Cr(Y,H,f.start,f.end));if(F){alert(`Конфликт с бронью "${F.title}" (${F.id}) — ресурс занят в этот интервал.`);return}const I={id:e?.id||crypto.randomUUID(),resourceType:d,resourceId:_,title:h,start:Y,end:H,notes:D};try{e?await jt(I):await Bt(I),t()}catch(f){f?.status===409?alert("Сервер отклонил бронь: ресурс занят в этот интервал (серверная проверка)."):(console.error("Ошибка при сохранении:",f),alert(`Не удалось сохранить бронь: ${f?.message||f}`))}},class:"form-grid",children:[l("label",{children:["Тип ресурса",l("select",{value:d,onChange:y=>u(y.target.value),children:[l("option",{value:"room",children:"Аудитория"}),l("option",{value:"asset",children:"Инвентарь"})]})]}),l("label",{children:["Ресурс",l("select",{value:_,onChange:y=>s(y.target.value),children:[l("option",{value:"",children:"-- выберите --"}),d==="room"&&n.map(y=>l("option",{value:y.id,children:y.name},y.id)),d==="asset"&&o.map(y=>l("option",{value:y.id,children:y.name},y.id))]})]}),l("label",{children:["Название события",l("input",{type:"text",value:h,onInput:y=>m(y.target.value)})]}),l("label",{children:["Начало",l("input",{type:"datetime-local",value:b,onInput:y=>g(y.target.value)})]}),l("label",{children:["Конец",l("input",{type:"datetime-local",value:p,onInput:y=>S(y.target.value)})]}),l("label",{children:["Примечание",l("textarea",{value:D,onInput:y=>x(y.target.value)})]}),l("div",{class:"form-buttons",children:[l("button",{type:"submit",children:"Сохранить"}),l("button",{type:"button",onClick:t,children:"Отмена"})]})]})]})}function Wr(){const[e,t]=T([]),[n,r]=T(null),[o,a]=T(!1),[i,c]=T([]),[d,u]=T([]),[_,s]=T(""),[h,m]=T(""),[D,x]=T(""),[b,g]=T(""),[p,S]=T(""),[N,y]=T("all"),Y=async()=>{try{const f=await Mt();t(f)}catch(f){console.error("Ошибка загрузки броней:",f),t([])}},H=async f=>{if(confirm("Удалить эту бронь?"))try{await Zt(f),await Y()}catch(M){console.error("Ошибка удаления:",M),alert(`Не удалось удалить бронь: ${M?.message||M}`)}},F=f=>f.resourceType==="room"?i.find(M=>M.id===f.resourceId)?.name||f.resourceId:d.find(M=>M.id===f.resourceId)?.name||f.resourceId;Oe(()=>{(async()=>{try{c(await xe()),u(await Pe()),await Y()}catch(f){console.error("Ошибка инициализации страницы:",f)}})()},[]);const I=e.filter(f=>{const M=new Date,C=new Date(f.end)<M;if(N==="active"&&C||N==="finished"&&!C)return!1;const B=_.toLowerCase();return!(B&&!f.title.toLowerCase().includes(B)&&!f.notes?.toLowerCase().includes(B)||h&&f.resourceType!==h||D&&f.resourceId!==D||b&&new Date(f.start)<new Date(b)||p&&new Date(f.end)>new Date(p))});return l("div",{class:"container",children:[l("h2",{children:"Брони"}),l("div",{class:"actions",children:!o&&!n&&l("button",{class:"add-button",onClick:()=>a(!0),children:"+ Добавить бронь"})}),l("div",{class:"filters",children:[l("input",{type:"text",placeholder:"Поиск...",value:_,onInput:f=>s(f.target.value)}),l("select",{value:h,onChange:f=>m(f.target.value),children:[l("option",{value:"",children:"Тип ресурса: все"}),l("option",{value:"room",children:"Аудитории"}),l("option",{value:"asset",children:"Инвентарь"})]}),l("select",{value:D,onChange:f=>x(f.target.value),children:[l("option",{value:"",children:"Конкретный ресурс: все"}),(h===""||h==="room")&&i.map(f=>l("option",{value:f.id,children:f.name},f.id)),(h===""||h==="asset")&&d.map(f=>l("option",{value:f.id,children:f.name},f.id))]}),l("select",{value:N,onChange:f=>y(f.target.value),children:[l("option",{value:"all",children:"Статус: все"}),l("option",{value:"active",children:"Активные"}),l("option",{value:"finished",children:"Завершённые"})]}),l("input",{type:"date",value:b,onInput:f=>g(f.target.value)}),l("input",{type:"date",value:p,onInput:f=>S(f.target.value)}),l("button",{onClick:()=>{s(""),m(""),x(""),y("all"),g(""),S("")},children:"Сбросить"})]}),(o||n)&&l(Ir,{existing:n||void 0,onSave:()=>{a(!1),r(null),Y()}}),I.length===0&&l("p",{children:"Нет броней"}),l("div",{class:"bookings-list",children:I.map(f=>{const M=new Date,C=new Date(f.end)<M,B=C?"Завершена":"Активна";return l("div",{class:"card",children:[l("h3",{children:f.title}),l("p",{children:[f.resourceType==="room"?"Аудитория":"Инвентарь"," – ",F(f)]}),l("p",{children:[ct(f.start,"dd.MM.yyyy HH:mm")," — ",ct(f.end,"dd.MM.yyyy HH:mm")]}),l("p",{children:[l("b",{children:"Статус:"})," ",l("span",{class:`status ${C?"finished":"active"}`,children:B})]}),f.notes&&l("p",{children:l("i",{children:f.notes})}),l("div",{class:"card-buttons",children:[l("button",{onClick:()=>r(f),children:"Редактировать"}),l("button",{onClick:()=>H(f.id),children:"Удалить"})]})]},f.id)})})]})}function Fr(){const[e,t]=T([]),[n,r]=T([]);return Oe(()=>{(async()=>(t(await xe()),r(await Pe())))()},[]),l("div",{class:"container",children:[l("h2",{children:"Аудитории"}),e.map(o=>l("div",{class:"card",children:[l("h3",{children:o.name}),l("p",{children:["Вместимость: ",o.capacity]}),l("p",{children:["Особенности: ",o.features.join(", ")||"нет"]})]},o.id)),l("h2",{children:"Инвентарь"}),n.map(o=>l("div",{class:"card",children:[l("h3",{children:o.name}),l("p",{children:["Код/серийный номер: ",o.inventoryCode]}),l("p",{children:["Статус: ",o.status]})]},o.id))]})}const Er=()=>{const[e,t]=T("bookings");return l("div",{children:[l("nav",{style:{display:"flex",gap:"1rem",padding:"1rem"},children:[l("button",{onClick:()=>t("bookings"),children:"Брони"}),l("button",{onClick:()=>t("resources"),children:"Каталог ресурсов"})]}),e==="bookings"?l(Wr,{}):l(Fr,{})]})};Ut(l(Er,{}),document.getElementById("app"));
